---
title: 自定义支付集成
description: VibeAny对支付进行了抽象，未来我们会支持更多的支付平台，您也可以自定义支付集成。
---

## 自定义支付集成
您需要实现 PaymentAdapter 接口，并实现 createCheckout、getSubscriptionsByUserId 和 handleWebhookEvent 方法。

```ts title="src/services/payment/adapter/interface.ts"
/**
 * Parameters for creating a checkout session
 */
export interface CreateCheckoutParams {
  planId: string
  priceId: string
  email: string
  successUrl?: string
  cancelUrl?: string
  metadata?: Record<string, string>
  locale?: Locale
}

export interface CheckoutResult {
  id: string
  checkoutUrl: string
}

export interface getSubscriptionsParams {
  userId: string
}

export interface PaymentAdapter {
  /**
   * Create a checkout session
   */
  createCheckout: (params: CreateCheckoutParams) => Promise<CheckoutResult>

  /**
   * Get customer subscriptions
   */
  getSubscriptionsByUserId: (params: getSubscriptionsParams) => Promise<Subscription[]>

  /**
   * Handle webhook events
   */
  handleWebhookEvent: (payload: string, signature: string) => Promise<void>
}

```

详细可以参考 `src/services/payment/adapter/creem-adapter.ts` 和 `src/services/payment/adapter/stripe-adapter.ts`。
